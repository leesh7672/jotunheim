{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build",
            "type": "process",
            "command": "make",
            "args": [
                "esp-populate"
            ],
            "group": "build"
        },
        {
            "label": "run",
            "type": "process",
            "dependsOn": "build",
            "command": "daemon",
            "args": [
                "konsole",
                "-e",
                "qemu-system-x86_64 -machine q35 -m 8G -cpu Haswell -drive if=pflash,format=raw,readonly=on,file=/usr/local/share/edk2-qemu/QEMU_UEFI_CODE-x86_64.fd  -drive format=raw,file=fat:rw:esp -chardev stdio,id=ch0,signal=off -chardev socket,id=ch1,host=127.0.0.1,port=1234,server=on,wait=off,telnet=off -serial chardev:ch0 -serial chardev:ch1 -display gtk"
            ],
            "isBackground": true
        },
        {
            "label": "delay",
            "type": "process",
            "command": "sleep",
            "dependsOn": "run",
            "args": [
                "3"
            ],
            "dependsOrder": "parallel"
        },
        {
            "label": "build-run-delay",
            "dependsOn": [
                "build",
                "run",
                "delay"
            ],
            "dependsOrder": "parallel"
        }
    ]
}