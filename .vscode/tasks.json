{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build",
            "type": "process",
            "command": "make",
            "group": "build"
        },
        {
            "label": "run",
            "type": "process",
            "dependsOn": "shell",
            "command": "bash",
            "args": [
                "-lc",
                "daemon -p QEMU.pid -o QEMU.log qemu-system-x86_64 -machine q35 -m 8G -cpu max  -drive if=pflash,format=raw,readonly=on,file=/usr/local/share/edk2-qemu/QEMU_UEFI_CODE-x86_64.fd  -drive format=raw,file=fat:rw:esp -serial none -chardev socket,id=ch1,host=127.0.0.1,port=1234,server=on,wait=off,telnet=off -serial chardev:ch1 -display gtk"
            ],
            "isBackground": true
        },
        {
            "label": "delay",
            "type": "process",
            "command": "sleep",
            "dependsOn": "run",
            "args": [
                "4"
            ],
            "dependsOrder": "parallel"
        },
        {
            "label": "build-run-delay",
            "dependsOn": [
                "build",
                "run",
                "delay"
            ],
            "dependsOrder": "parallel"
        }
    ]
}